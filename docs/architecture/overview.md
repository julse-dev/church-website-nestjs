---
title: 'ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê°œìš”'
description: 'Church Website NestJS í”„ë¡œì íŠ¸ì˜ ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°'
author: 'ê°œë°œíŒ€'
created: '2025-07-30'
updated: '2025-07-30'
version: '1.0'
tags: ['architecture', 'overview', 'system-design']
---

# ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê°œìš”

## ğŸ“‹ ì‹œìŠ¤í…œ ê°œìš”

Church Website NestJSëŠ” êµíšŒ ì›¹ì‚¬ì´íŠ¸ë¥¼ ìœ„í•œ ë°±ì—”ë“œ API ì„œë²„ë¡œ, ì‚¬ìš©ì ê´€ë¦¬, êµíšŒ ì†Œì‹ ê´€ë¦¬, ì¸ì¦/ì¸ê°€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ¯ ì•„í‚¤í…ì²˜ ëª©í‘œ

- **í™•ì¥ì„±**: ëª¨ë“ˆí˜• êµ¬ì¡°ë¡œ ê¸°ëŠ¥ ì¶”ê°€ ìš©ì´
- **ë³´ì•ˆì„±**: ë‹¤ì¸µ ë³´ì•ˆ ì²´ê³„ êµ¬ì¶•
- **ìœ ì§€ë³´ìˆ˜ì„±**: ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬ì™€ í‘œì¤€í™”
- **ì„±ëŠ¥**: íš¨ìœ¨ì ì¸ ë°ì´í„° ì²˜ë¦¬ì™€ ìºì‹±

## ğŸ›ï¸ ì „ì²´ ì•„í‚¤í…ì²˜

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend                              â”‚
â”‚                    (React/Next.js)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ HTTP/HTTPS
                      â”‚ JSON API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API Gateway                               â”‚
â”‚              (Rate Limiting, CORS)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  NestJS Backend                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Auth        â”‚    User      â”‚   Church News           â”‚ â”‚
â”‚  â”‚   Module      â”‚   Module     â”‚   Module                â”‚ â”‚
â”‚  â”‚               â”‚              â”‚                         â”‚ â”‚
â”‚  â”‚ - JWT Auth    â”‚ - Profile    â”‚ - CRUD Operations       â”‚ â”‚
â”‚  â”‚ - Guards      â”‚ - MyPage     â”‚ - Content Management    â”‚ â”‚
â”‚  â”‚ - Strategies  â”‚ - Management â”‚ - File Upload           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Common Layer                               â”‚ â”‚
â”‚  â”‚  - Validation Pipes                                     â”‚ â”‚
â”‚  â”‚  - Exception Filters                                    â”‚ â”‚
â”‚  â”‚  - Interceptors                                         â”‚ â”‚
â”‚  â”‚  - Guards & Decorators                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ TypeORM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 PostgreSQL Database                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Users     â”‚   Church    â”‚        System               â”‚ â”‚
â”‚  â”‚   Table     â”‚   News      â”‚        Tables               â”‚ â”‚
â”‚  â”‚             â”‚   Table     â”‚                             â”‚ â”‚
â”‚  â”‚ - id        â”‚ - id        â”‚ - sessions                  â”‚ â”‚
â”‚  â”‚ - email     â”‚ - title     â”‚ - logs                      â”‚ â”‚
â”‚  â”‚ - password  â”‚ - content   â”‚ - configs                   â”‚ â”‚
â”‚  â”‚ - profile   â”‚ - author    â”‚                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

### Backend Framework

- **NestJS**: TypeScript ê¸°ë°˜ Node.js í”„ë ˆì„ì›Œí¬
- **Express**: HTTP ì„œë²„ ì—”ì§„
- **TypeScript**: íƒ€ì… ì•ˆì „ì„±ì„ ìœ„í•œ ì–¸ì–´

### Database & ORM

- **PostgreSQL**: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤
- **TypeORM**: ê°ì²´-ê´€ê³„ ë§¤í•‘ ë„êµ¬
- **Connection Pooling**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìµœì í™”

### Authentication & Security

- **JWT**: JSON Web Token ê¸°ë°˜ ì¸ì¦
- **bcrypt**: ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
- **Passport**: ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
- **HTTP-only Cookies**: ë³´ì•ˆ í† í° ì €ì¥

### API & Documentation

- **Swagger/OpenAPI**: API ë¬¸ì„œí™”
- **Class-validator**: ì…ë ¥ ë°ì´í„° ê²€ì¦
- **Class-transformer**: ë°ì´í„° ë³€í™˜

### Development & DevOps

- **ESLint + Prettier**: ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬
- **Jest**: í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
- **PM2**: í”„ë¡œì„¸ìŠ¤ ë§¤ë‹ˆì € (í”„ë¡œë•ì…˜)

## ğŸ“¦ ëª¨ë“ˆ êµ¬ì¡°

### Core Modules

#### AuthModule

```typescript
@Module({
  imports: [JwtModule, PassportModule],
  providers: [AuthService, JwtStrategy, CookieService],
  controllers: [AuthController],
  exports: [AuthService]
})
```

- **ì±…ì„**: ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬
- **ì£¼ìš” ê¸°ëŠ¥**: ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ, í† í° ê´€ë¦¬

#### UserModule

```typescript
@Module({
  imports: [TypeOrmModule.forFeature([User])],
  providers: [UserService],
  controllers: [UserController],
  exports: [UserService]
})
```

- **ì±…ì„**: ì‚¬ìš©ì í”„ë¡œí•„ ë° ê³„ì • ê´€ë¦¬
- **ì£¼ìš” ê¸°ëŠ¥**: ë§ˆì´í˜ì´ì§€, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½, ê³„ì • ì‚­ì œ

#### ChurchNewsBoardsModule

```typescript
@Module({
  imports: [TypeOrmModule.forFeature([ChurchNewsBoard])],
  providers: [ChurchNewsBoardsService],
  controllers: [ChurchNewsBoardsController]
})
```

- **ì±…ì„**: êµíšŒ ì†Œì‹ ê²Œì‹œíŒ ê´€ë¦¬
- **ì£¼ìš” ê¸°ëŠ¥**: ê²Œì‹œê¸€ CRUD, ê²€ìƒ‰, í˜ì´ì§€ë„¤ì´ì…˜

## ğŸ” ë³´ì•ˆ ì•„í‚¤í…ì²˜

### ë‹¤ì¸µ ë³´ì•ˆ êµ¬ì¡°

1. **Network Layer**
   - HTTPS ê°•ì œ
   - CORS ì •ì±…
   - Rate Limiting

2. **Application Layer**
   - JWT í† í° ê²€ì¦
   - Role-based Access Control
   - Input Validation

3. **Data Layer**
   - SQL Injection ë°©ì§€
   - ë°ì´í„° ì•”í˜¸í™”
   - ì ‘ê·¼ ì œì–´

### Authentication Flow

```text
Client                    Server                    Database
  â”‚                         â”‚                         â”‚
  â”‚ 1. POST /auth/signin    â”‚                         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                         â”‚
  â”‚                         â”‚ 2. Validate credentials â”‚
  â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
  â”‚                         â”‚ 3. User data            â”‚
  â”‚                         â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                         â”‚ 4. Generate JWT         â”‚
  â”‚                         â”‚ 5. Set HTTP-only cookie â”‚
  â”‚ 6. Response + Cookie    â”‚                         â”‚
  â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
  â”‚                         â”‚                         â”‚
  â”‚ 7. Authenticated Requestâ”‚                         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ 8. Verify JWT           â”‚
  â”‚                         â”‚                         â”‚
  â”‚ 9. Response             â”‚                         â”‚
  â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
```

## ğŸ“Š ë°ì´í„° ëª¨ë¸

### í•µì‹¬ ì—”í‹°í‹°

#### User Entity

```typescript
@Entity()
export class User {
  @PrimaryGeneratedColumn()
  id: number;

  @Column({ unique: true })
  email: string;

  @Column()
  password: string;

  @Column()
  name: string;

  @OneToMany(() => ChurchNewsBoard, (board) => board.author)
  posts: ChurchNewsBoard[];
}
```

#### ChurchNewsBoard Entity

```typescript
@Entity()
export class ChurchNewsBoard {
  @PrimaryGeneratedColumn()
  id: number;

  @Column()
  title: string;

  @Column('text')
  content: string;

  @ManyToOne(() => User, (user) => user.posts)
  author: User;
}
```

## ğŸš€ ì„±ëŠ¥ ìµœì í™”

### Database Optimization

- **Connection Pooling**: ë™ì‹œ ì—°ê²° ìˆ˜ ê´€ë¦¬
- **Query Optimization**: N+1 ë¬¸ì œ í•´ê²°
- **Indexing**: ê²€ìƒ‰ ì„±ëŠ¥ í–¥ìƒ

### Caching Strategy

- **Memory Cache**: ìì£¼ ì‚¬ìš©ë˜ëŠ” ë°ì´í„°
- **Query Cache**: ë³µì¡í•œ ì¿¼ë¦¬ ê²°ê³¼
- **Session Cache**: ì‚¬ìš©ì ì„¸ì…˜ ì •ë³´

### API Optimization

- **Pagination**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬
- **Compression**: ì‘ë‹µ ë°ì´í„° ì••ì¶•
- **Response Optimization**: ë¶ˆí•„ìš”í•œ ë°ì´í„° ì œê±°

## ğŸ“ˆ ëª¨ë‹ˆí„°ë§ & ë¡œê¹…

### Logging Strategy

```typescript
// ì „ì—­ ë¡œê¹… ì¸í„°ì…‰í„°
@Injectable()
export class LoggingInterceptor implements NestInterceptor {
  intercept(context: ExecutionContext, next: CallHandler) {
    const request = context.switchToHttp().getRequest();
    const { method, url } = request;

    console.log(`[${new Date().toISOString()}] ${method} ${url}`);
    return next.handle();
  }
}
```

### Error Handling

```typescript
// ì „ì—­ ì˜ˆì™¸ í•„í„°
@Catch()
export class AllExceptionsFilter implements ExceptionFilter {
  catch(exception: unknown, host: ArgumentsHost) {
    const ctx = host.switchToHttp();
    const response = ctx.getResponse();

    // ì—ëŸ¬ ë¡œê¹… ë° ì‘ë‹µ ì²˜ë¦¬
  }
}
```

## ğŸ”„ ê°œë°œ í”„ë¡œì„¸ìŠ¤

### Code Quality

- **TypeScript**: ì»´íŒŒì¼ íƒ€ì„ íƒ€ì… ê²€ì¦
- **ESLint**: ì½”ë“œ ìŠ¤íƒ€ì¼ ë° í’ˆì§ˆ ê²€ì‚¬
- **Prettier**: ì½”ë“œ í¬ë§·íŒ… ìë™í™”

### Testing Strategy

- **Unit Tests**: ê°œë³„ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- **Integration Tests**: ëª¨ë“ˆ ê°„ ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸
- **E2E Tests**: ì „ì²´ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

## ğŸ“‹ í™•ì¥ ê³„íš

### Phase 1 (í˜„ì¬)

- âœ… ê¸°ë³¸ ì¸ì¦ ì‹œìŠ¤í…œ
- âœ… ì‚¬ìš©ì ê´€ë¦¬
- âœ… êµíšŒ ì†Œì‹ ê´€ë¦¬

### Phase 2 (ë‹¨ê¸°)

- [ ] íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ
- [ ] ì´ë©”ì¼ ì•Œë¦¼
- [ ] ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

### Phase 3 (ì¥ê¸°)

- [ ] ì‹¤ì‹œê°„ ì±„íŒ…
- [ ] ëª¨ë°”ì¼ ì•± ì§€ì›
- [ ] ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë¶„ë¦¬

---

**ì°¸ê³  ë¬¸ì„œ**

- [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](./database-design.md)
- [API ì„¤ê³„](./api-design.md)
- [ë³´ì•ˆ ì •ì±…](../security/security-policy.md)
